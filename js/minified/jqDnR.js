!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(u){u.fn.jqDrag=function(e){return n(this,e,"d")},u.fn.jqResize=function(e,t){return n(this,e,"r",t)},u.jqDnR={dnr:{},e:0,drag:function(e){return"d"==f.k?p.css({left:f.X+e.pageX-f.pX,top:f.Y+e.pageY-f.pY}):(p.css({width:Math.max(e.pageX-f.pX+f.W,0),height:Math.max(e.pageY-f.pY+f.H,0)}),i&&a.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)})),!1},stop:function(){u(document).off("mousemove",e.drag).off("mouseup",e.stop)}};var a,i,e=u.jqDnR,f=e.dnr,p=e.e,n=function(e,t,n,o){return e.each(function(){(t=t?u(t,e):e).on("mousedown",{e:e,k:n},function(e){var t=e.data,n={};if(p=t.e,a=!!o&&u(o),"relative"!=p.css("position"))try{p.position(n)}catch(e){}if(f={X:n.left||r("left")||0,Y:n.top||r("top")||0,W:r("width")||p[0].scrollWidth||0,H:r("height")||p[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},i=!(!a||"d"==t.k)&&{X:n.left||c("left")||0,Y:n.top||c("top")||0,W:a[0].offsetWidth||c("width")||0,H:a[0].offsetHeight||c("height")||0,pX:e.pageX,pY:e.pageY,k:t.k},u("input.hasDatepicker",p[0])[0])try{u("input.hasDatepicker",p[0]).datepicker("hide")}catch(e){}return u(document).mousemove(u.jqDnR.drag).mouseup(u.jqDnR.stop),!1})})},r=function(e){return parseInt(p.css(e),10)||!1},c=function(e){return parseInt(a.css(e),10)||!1};u.fn.tinyDraggable=function(e){var i=u.extend({handle:0,exclude:0},e);return this.each(function(){var n,o,a=u(this);(i.handle?u(i.handle,a):a).on({mousedown:function(e){var t;i.exclude&&~u.inArray(e.target,u(i.exclude,a))||(e.preventDefault(),t=a.offset(),n=e.pageX-t.left,o=e.pageY-t.top,u(document).on("mousemove.drag",function(e){a.offset({top:e.pageY-o,left:e.pageX-n})}))},mouseup:function(e){u(document).off("mousemove.drag")}})})}});